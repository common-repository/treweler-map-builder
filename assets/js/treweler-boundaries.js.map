{"version":3,"file":"treweler-boundaries.js","mappings":"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","sources":["webpack://treweler/./src/js/front/modules/preloader.js","webpack://treweler/./node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack://treweler/webpack/bootstrap","webpack://treweler/webpack/runtime/define property getters","webpack://treweler/webpack/runtime/hasOwnProperty shorthand","webpack://treweler/webpack/runtime/make namespace object","webpack://treweler/./src/js/front/treweler-boundaries.js"],"sourcesContent":["'use strict';\r\n\r\n/**\r\n * Init Preload Logic\r\n */\r\nclass TWER_PRELOADER {\r\n\r\n\r\n  $preloader = null;\r\n  $counter = null;\r\n\r\n  constructor() {\r\n\r\n    this.$preloader = document.getElementsByClassName('twer-preloader');\r\n    this.$counter = document.querySelectorAll('.twer-preloader .loading-progress');\r\n\r\n    if(!TWER.data.boundaries) {\r\n\r\n      this.initPreloader();\r\n    }\r\n      TWER.map.on('idle', (e) => {\r\n        if(!TWER.data.boundaries) {\r\n          // HIDE Preloader when map idle\r\n          this.hide();\r\n        }\r\n      });\r\n\r\n\r\n\r\n\r\n  }\r\n\r\n  initPreloader() {\r\n\r\n    if (this.$preloader.length > 0) {\r\n\r\n      let plr = 0;\r\n\r\n\r\n      if (plr === 0) {\r\n        plr = 1;\r\n        let percent = 1;\r\n        const id = setInterval(() => {\r\n          let maxPercent = Math.floor(Math.random() * (99 - 95 + 1) + 95);\r\n          if (percent >= maxPercent) {\r\n            clearInterval(id);\r\n            plr = 0;\r\n          } else {\r\n            percent++;\r\n            if(this.$counter.length > 0) {\r\n              this.$counter[0].innerHTML = `${percent}%`;\r\n            }\r\n          }\r\n        }, 10);\r\n      }\r\n\r\n    }\r\n  }\r\n\r\n  hide() {\r\n    if (this.$preloader.length > 0) {\r\n      setTimeout(()=>{\r\n        this.$preloader[0].classList.add('twer-preloader--hide');\r\n      }, 500);\r\n    }\r\n  }\r\n\r\n}\r\n\r\nexport default TWER_PRELOADER;\r\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","'use strict';\r\n\r\nimport TWER_PRELOADER from './modules/preloader';\r\n\r\n/**\r\n * Init All Boundaries Front End\r\n */\r\nclass TWER_BOUNDARIES {\r\n\r\n  /**\r\n   * Сonstructor\r\n   *\r\n   * @param props\r\n   */\r\n  regions = '';\r\n  regionsSelected = [];\r\n  fillMain = '';\r\n  fillHover = '';\r\n  fillSelected = '';\r\n  strokeColor = '';\r\n  strokeWidth = '';\r\n  regionsCustomColors = '';\r\n  regionsHide = '';\r\n  worldsSlugs = ['world','united-states','united-kingdom','spain','italy','germany','france','canada','australia'];\r\n  accuracyList = ['very_high','high','medium','low','very_low'];\r\n  worldsGeoJson = {};\r\n  worldsList = {};\r\n  $popup = null;\r\n\r\n  preloader = null;\r\n\r\n\r\n  constructor(props) {\r\n\r\n    this.regions = TWER.data.boundariesRegions;\r\n    this.regionsSelected = TWER.data.boundariesRegionsSelected;\r\n    this.fillMain = TWER.data.boundariesFillMain;\r\n    this.fillHover = TWER.data.boundariesFillHover;\r\n    this.fillSelected = TWER.data.boundariesFillSelected;\r\n    this.strokeColor = TWER.data.boundariesStrokeColor;\r\n    this.strokeWidth = TWER.data.boundariesStrokeWidth;\r\n    this.boundariesAccuracy = TWER.data.boundariesAccuracy;\r\n    this.regionsCustomColors = TWER.data.boundariesRegionsCustomColors;\r\n    this.regionsHide = TWER.data.boundariesRegionsHide;\r\n    this.regionsClickable = TWER.data.actionOnClickBoundaries;\r\n    this.regionsLinks = TWER.data.boundariesLinks;\r\n\r\n    this.regionsHoverables = TWER.data.actionOnHoverBoundaries;\r\n    this.regionsValues = TWER.data.boundariesValues;\r\n    this.regionsValuesPrefix = TWER.data.boundariesValuesPrefix;\r\n\r\n    this.preloader = new TWER_PRELOADER();\r\n    this.preloader.initPreloader();\r\n\r\n    this.worldListFill();\r\n\r\n    if ('none' !== this.regionsHoverables) {\r\n      this.initPopup();\r\n    }\r\n\r\n    let hoveredStateId = null;\r\n\r\n    TWER.map.on('load', async () => {\r\n\r\n      const fileName = this.getFileNameFromRegion();\r\n      //console.log(treweler_params.data, this.worldsList, this.boundariesAccuracy)\r\n\r\n      this.fetchData().then((geoJSON) => {\r\n        this.worldsGeoJson = this.prepareGeoJson(geoJSON);\r\n\r\n        const layer = {\r\n          'id': 'boundaries-layer',\r\n          'type': 'fill',\r\n          'source': 'boundaries',\r\n          'paint': {\r\n            'fill-color': this.generateFeatureStateFilter(),\r\n            'fill-outline-color': 'rgba(255, 255, 255, 0)'\r\n          }\r\n        };\r\n        const layerLine = {\r\n          'id': 'boundaries-line-layer',\r\n          'type': 'line',\r\n          'source': 'boundaries',\r\n          'paint': {\r\n            'line-width': this.strokeWidth,\r\n            'line-color': this.strokeColor\r\n          }\r\n        };\r\n\r\n        const filter = ['all'];\r\n\r\n        if (this.regions !== 'world') {\r\n          const regions = this.prepare_regions();\r\n\r\n\r\n          filter.push(['==', ['get', regions.column], regions.value]);\r\n\r\n          if(regions.admin !== '') {\r\n            filter.push(['==', ['get', regions.admin], regions.admin_num]);\r\n          }\r\n        } else {\r\n          //filter.push(['!=', 'mode', 'static']);\r\n          filter.push(['!=', ['get', 'COUNTRY'], 'France']);\r\n          filter.push(['!=', ['get', 'COUNTRY'], 'United States']);\r\n          filter.push(['!=', ['get', 'COUNTRY'], 'United Kingdom']);\r\n          filter.push(['!=', ['get', 'COUNTRY'], 'Spain']);\r\n          filter.push(['!=', ['get', 'COUNTRY'], 'Italy']);\r\n          filter.push(['!=', ['get', 'COUNTRY'], 'Germany']);\r\n          filter.push(['!=', ['get', 'COUNTRY'], 'Canada']);\r\n          filter.push(['!=', ['get', 'COUNTRY'], 'Australia']);\r\n        }\r\n\r\n        if (this.regionsHide !== '' && this.regionsHide.length > 0) {\r\n          const regionsHide = JSON.parse(this.regionsHide);\r\n          for (let i = 0; i < regionsHide.length; i++) {\r\n            filter.push(['!=', ['id'], parseInt(regionsHide[i])]);\r\n          }\r\n        }\r\n\r\n        layer.filter = filter;\r\n        layerLine.filter = filter;\r\n\r\n        // Add a source for the state polygons.\r\n        TWER.map.addSource('boundaries', {\r\n          type: 'geojson',\r\n          //generateId: true,\r\n          data: this.worldsGeoJson[this.boundariesAccuracy]\r\n        });\r\n\r\n        // Add a layer showing the state polygons.\r\n        TWER.map.addLayer(layer);\r\n        TWER.map.addLayer(layerLine);\r\n\r\n        this.selectRegions();\r\n\r\n\r\n        TWER.map.on('mouseenter', 'boundaries-layer', () => {\r\n          TWER.map.getCanvas().style.cursor = 'pointer';\r\n        });\r\n        TWER.map.on('mousemove', 'boundaries-layer', (event) => {\r\n\r\n          if (event.features.length > 0 && this.isClosestHoverable(event)) {\r\n\r\n            if (hoveredStateId !== null) {\r\n              this.fillRegionColor(hoveredStateId, {action: 'unhover'});\r\n            }\r\n            hoveredStateId = event.features[0].id;\r\n\r\n            this.fillRegionColor(hoveredStateId, {action: 'hover'});\r\n            this.selectRegions(hoveredStateId);\r\n\r\n            this.popup(event);\r\n\r\n          }\r\n        });\r\n        TWER.map.on('mouseleave', 'boundaries-layer', (e) => {\r\n          if (hoveredStateId !== null) {\r\n            TWER.map.setFeatureState(\r\n              {source: 'boundaries', id: hoveredStateId},\r\n              {action: 'unhover'}\r\n            );\r\n          }\r\n          hoveredStateId = null;\r\n          this.selectRegions(hoveredStateId);\r\n\r\n          this.popup();\r\n          TWER.map.getCanvas().style.cursor = '';\r\n        });\r\n        TWER.map.on('click', 'boundaries-layer', (e) => {\r\n          if (e.features.length > 0) {\r\n            const id = e.features[0].id;\r\n            if ('none' !== this.regionsClickable && this.regionsLinks.length > 0) {\r\n              const regionsLinks = JSON.parse(this.regionsLinks);\r\n              for (let i = 0; i < regionsLinks.length; i++) {\r\n                if (regionsLinks[i].id === id) {\r\n                  if (document.body.classList.contains('twer-page-iframe-map')) {\r\n                    window.open(regionsLinks[i].url, '_blank');\r\n                  } else {\r\n                    if (regionsLinks[i].target) {\r\n                      window.open(regionsLinks[i].url, regionsLinks[i].target);\r\n                    } else {\r\n                      window.location.href = regionsLinks[i].url;\r\n                    }\r\n                  }\r\n                }\r\n              }\r\n            }\r\n          }\r\n        });\r\n\r\n        TWER.map.once('idle', (e) => {\r\n          this.preloader.hide();\r\n\r\n        });\r\n\r\n\r\n        const allLayers = TWER.map.getStyle().layers;\r\n        if(allLayers.length > 0) {\r\n          for(let i = 0; i < allLayers.length; i++) {\r\n            const layerId = allLayers[i].id;\r\n            if(layerId.includes('route-') || layerId === 'line_layer' || layerId === 'polygon_layer_fill' || layerId === 'polygon_layer_stroke') {\r\n              TWER.map.moveLayer(layerId);\r\n            }\r\n          }\r\n        }\r\n      }).catch(error => {\r\n        console.log(error);\r\n      });\r\n    });\r\n  }\r\n  prepareGeoJson(geoJSON) {\r\n    for (let quality in geoJSON) {\r\n      if (geoJSON[quality].features.length > 0) {\r\n        let geoId = 1;\r\n        for (let u = 0; u < geoJSON[quality].features.length; u++) {\r\n          geoJSON[quality].features[u].id = geoId;\r\n          geoId++;\r\n        }\r\n      }\r\n    }\r\n    return geoJSON;\r\n  }\r\n  worldListFill() {\r\n    for (let j = 0; j < this.accuracyList.length; j++) {\r\n      const accuracyKey = this.accuracyList[j];\r\n      const accuracy = accuracyKey.replace(/_/g, '-');\r\n\r\n      this.worldsList[accuracyKey] = {\r\n        urls: []\r\n      };\r\n\r\n      for (let i = 0; i < this.worldsSlugs.length; i++) {\r\n        const slug = this.worldsSlugs[i];\r\n\r\n        if (slug === 'world') {\r\n          this.worldsList[accuracyKey].urls.push(`${slug}-${accuracy}.json`);\r\n        } else {\r\n          this.worldsList[accuracyKey].urls.push(`${slug}-${accuracy}-01.json`, `${slug}-${accuracy}-02.json`);\r\n        }\r\n      }\r\n    }\r\n\r\n  }\r\n\r\n  async fetchData() {\r\n    const geoJsonData = {};\r\n\r\n    for (let q = 0; q < this.accuracyList.length; q++) {\r\n      const quality = this.accuracyList[q];\r\n      let sourceGeoJsonResult = await Promise.all(this.worldsList[quality].urls.map(urlJson =>\r\n        fetch(`${treweler_params.data}${urlJson}`).then(resp => resp.json())\r\n      ));\r\n\r\n      geoJsonData[quality] = {\r\n        type: '',\r\n        features: []\r\n      };\r\n\r\n      if (sourceGeoJsonResult.length > 0) {\r\n        for (let i = 0; i < sourceGeoJsonResult.length; i++) {\r\n          geoJsonData[quality].type = sourceGeoJsonResult[i].type;\r\n          geoJsonData[quality].features.push(...sourceGeoJsonResult[i].features);\r\n        }\r\n      }\r\n    }\r\n\r\n    return geoJsonData;\r\n  }\r\n\r\n  initPopup() {\r\n    this.$popup = document.createElement('div');\r\n    this.$popup.classList.add('twer-region-popup');\r\n\r\n    const $popupTitle = document.createElement('div');\r\n    $popupTitle.id = 'js-twer-popup-title';\r\n\r\n    const $popupValue = document.createElement('div');\r\n    $popupValue.id = 'js-twer-popup-value';\r\n    $popupValue.classList.add('twer-region-popup__value');\r\n\r\n    this.$popup.appendChild($popupTitle);\r\n    this.$popup.appendChild($popupValue);\r\n\r\n    document.body.appendChild(this.$popup);\r\n  }\r\n\r\n  isClosestHoverable(event) {\r\n    let result = true;\r\n\r\n    const $targetHover = event?.originalEvent?.target;\r\n    if($targetHover) {\r\n      if($targetHover.closest('.treweler-marker-cluster') || $targetHover.closest('.js-twer-marker')  || $targetHover.closest('.treweler-marker') ) {\r\n        result = false;\r\n      }\r\n    }\r\n\r\n    return result;\r\n  }\r\n\r\n  popup(event) {\r\n\r\n    if ('none' !== this.regionsHoverables) {\r\n      let values = this.regionsValues.trim() === '' ? [] : JSON.parse(this.regionsValues);\r\n      const canvas = TWER.map.getCanvas();\r\n\r\n\r\n      if (event && typeof event !== 'undefined' && this.isClosestHoverable(event)) {\r\n        const regionId = event.features[0].id;\r\n        const regionName = event.features[0].properties.NAME;\r\n        let resultValue = '';\r\n        let resultPrefix = '';\r\n\r\n        if ('popup_value' === this.regionsHoverables) {\r\n          resultPrefix = `${this.regionsValuesPrefix} `;\r\n        }\r\n\r\n        if (values.length > 0) {\r\n          for (let i = 0; i < values.length; i++) {\r\n            if (values[i].id === regionId) {\r\n              resultValue = values[i].value;\r\n            }\r\n          }\r\n        }\r\n\r\n        canvas.style.cursor = 'pointer';\r\n        this.$popup.querySelector('#js-twer-popup-title').textContent = regionName;\r\n        if (resultValue && 'popup_value' === this.regionsHoverables) {\r\n          this.$popup.querySelector('#js-twer-popup-value').textContent = resultPrefix + resultValue;\r\n        } else {\r\n          this.$popup.querySelector('#js-twer-popup-value').textContent = '';\r\n        }\r\n\r\n        const popupStyles = this.$popup.getBoundingClientRect();\r\n\r\n        const popupHeight = popupStyles.height;\r\n        const popupWidth = popupStyles.width;\r\n\r\n        const $adminBar = document.getElementById('wpadminbar');\r\n        let adminBarHeight = 0;\r\n        if ($adminBar !== null) {\r\n          const adminBarStyles = $adminBar.getBoundingClientRect();\r\n          adminBarHeight = adminBarStyles.height;\r\n        }\r\n\r\n        this.$popup.style.left = `${event.originalEvent.clientX - (popupWidth / 2)}px`;\r\n        this.$popup.style.top = `${event.originalEvent.clientY - (popupHeight + 8 + adminBarHeight)}px`;\r\n        this.$popup.style.visibility = 'visible';\r\n        this.$popup.style.opacity = 1;\r\n\r\n      } else {\r\n        canvas.style.cursor = '';\r\n        this.$popup.style.visibility = 'hidden';\r\n        this.$popup.style.opacity = 0;\r\n        this.$popup.querySelector('#js-twer-popup-title').textContent = '';\r\n        this.$popup.querySelector('#js-twer-popup-value').textContent = '';\r\n      }\r\n\r\n\r\n    }\r\n  }\r\n\r\n  selectRegions(ignoreId = false) {\r\n    let selectedRegions = this.regionsSelected.trim() === '' ? [] : JSON.parse(this.regionsSelected);\r\n    if (selectedRegions.length > 0 && Array.isArray(selectedRegions)) {\r\n      for (let i = 0; i < selectedRegions.length; i++) {\r\n        if (selectedRegions[i] !== ignoreId) {\r\n          const selectedRegionId = selectedRegions[i];\r\n          const selectedRegionIdChecked = this.checkIdHasCustomColor(selectedRegionId);\r\n          if (selectedRegionIdChecked.hasColor && selectedRegionIdChecked.active) {\r\n            this.fillRegionColor(selectedRegionId, {action: 'customize'});\r\n          } else {\r\n            this.fillRegionColor(selectedRegionId, {action: 'select'});\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  checkIdHasCustomColor(id) {\r\n    let selectStateIdsColors = this.regionsCustomColors.trim() === '' ? [] : JSON.parse(this.regionsCustomColors);\r\n    let hasColor = false;\r\n    let index = 0;\r\n    let active = false;\r\n    if (selectStateIdsColors.length > 0) {\r\n      for (let i = 0; i < selectStateIdsColors.length; i++) {\r\n        if (id === selectStateIdsColors[i].id) {\r\n          hasColor = true;\r\n          index = i;\r\n          active = selectStateIdsColors[i].active;\r\n          break;\r\n        }\r\n      }\r\n    }\r\n\r\n    return {hasColor: hasColor, index: index, active: active};\r\n  }\r\n\r\n  generateFeatureStateFilter(settings = {}) {\r\n    let selectStateIdsColors = this.regionsCustomColors.trim() === '' ? [] : JSON.parse(this.regionsCustomColors);\r\n\r\n    const filter = [\r\n      'match',\r\n      ['feature-state', 'action'],\r\n      'hover',\r\n      this.fillHover,\r\n      'select',\r\n      this.fillSelected,\r\n      'unselect',\r\n      this.fillHover,\r\n      'unhover',\r\n      this.fillMain,\r\n      this.fillMain\r\n    ];\r\n\r\n    if (selectStateIdsColors.length > 0) {\r\n      let spliceCounter = 0;\r\n      for (let i = 0; i < selectStateIdsColors.length; i++) {\r\n        if (selectStateIdsColors[i].active) {\r\n          let splice1 = 2 + spliceCounter;\r\n          let splice2 = 3 + spliceCounter;\r\n          filter.splice(splice1, 0, `customize_${selectStateIdsColors[i].id}`);\r\n          filter.splice(splice2, 0, selectStateIdsColors[i].color);\r\n          spliceCounter = spliceCounter + 2;\r\n        }\r\n      }\r\n    }\r\n\r\n    return filter;\r\n  }\r\n\r\n  fillRegionColor(featureId, settings = {}) {\r\n    const action = 'action' in settings ? settings.action : false;\r\n\r\n    if (action) {\r\n      let stateAction = action;\r\n      switch (action) {\r\n        case 'customize' :\r\n          stateAction = `customize_${featureId}`;\r\n          break;\r\n      }\r\n      TWER.map.setFeatureState(\r\n        {source: 'boundaries', id: featureId},\r\n        {action: stateAction}\r\n      );\r\n    }\r\n\r\n  }\r\n\r\n  getFileNameFromRegion() {\r\n    const accuracy = this.boundariesAccuracy.replace(/_/g, '-');\r\n    let filename = `world-${accuracy}.json`;\r\n\r\n    if('world' !== this.regions) {\r\n      const {COUNTRY, ADMIN} = JSON.parse(this.regions);\r\n\r\n      if(COUNTRY && ADMIN) {\r\n        filename = `${COUNTRY.toLowerCase()}-${accuracy}-0${ADMIN}.json`;\r\n      }\r\n    }\r\n\r\n    return filename;\r\n  }\r\n\r\n  prepare_regions() {\r\n    const preparedCurrentRegion = 'world' === this.regions ? {} : JSON.parse(this.regions)\r\n    const isEmpty = Object.keys(preparedCurrentRegion).length === 0;\r\n\r\n    let column = '';\r\n    let column_value = '';\r\n\r\n    let admin_column  = '';\r\n    let admin_value = -1;\r\n\r\n    if(!isEmpty) {\r\n      for(let column_inner in preparedCurrentRegion) {\r\n        if(column_inner === 'ADMIN') {\r\n          admin_column = column_inner;\r\n          admin_value = preparedCurrentRegion[column_inner];\r\n        } else {\r\n          column = column_inner;\r\n          column_value = preparedCurrentRegion[column_inner];\r\n        }\r\n      }\r\n    } else {\r\n      column = 'world';\r\n    }\r\n\r\n    return {\r\n      column: column,\r\n      value: column_value,\r\n      admin: admin_column,\r\n      admin_num: parseInt(admin_value)\r\n    };\r\n  }\r\n\r\n}\r\n\r\n!(() => {\r\n  window.addEventListener('load', () => {\r\n    new TWER_BOUNDARIES();\r\n  });\r\n})();\r\n"],"names":["TWER_PRELOADER","constructor","$preloader","document","getElementsByClassName","$counter","querySelectorAll","TWER","data","boundaries","initPreloader","map","on","e","hide","length","plr","percent","id","setInterval","maxPercent","Math","floor","random","clearInterval","innerHTML","setTimeout","classList","add","_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","TWER_BOUNDARIES","props","regions","boundariesRegions","regionsSelected","boundariesRegionsSelected","fillMain","boundariesFillMain","fillHover","boundariesFillHover","fillSelected","boundariesFillSelected","strokeColor","boundariesStrokeColor","strokeWidth","boundariesStrokeWidth","boundariesAccuracy","regionsCustomColors","boundariesRegionsCustomColors","regionsHide","boundariesRegionsHide","regionsClickable","actionOnClickBoundaries","regionsLinks","boundariesLinks","regionsHoverables","actionOnHoverBoundaries","regionsValues","boundariesValues","regionsValuesPrefix","boundariesValuesPrefix","preloader","worldListFill","initPopup","hoveredStateId","fileName","getFileNameFromRegion","fetchData","then","geoJSON","worldsGeoJson","prepareGeoJson","layer","generateFeatureStateFilter","layerLine","filter","prepare_regions","push","column","admin","admin_num","JSON","parse","i","parseInt","addSource","type","addLayer","selectRegions","getCanvas","style","cursor","event","features","isClosestHoverable","fillRegionColor","action","popup","setFeatureState","source","body","contains","window","open","url","target","location","href","once","allLayers","getStyle","layers","layerId","includes","moveLayer","catch","error","console","log","quality","geoId","u","j","accuracyList","accuracyKey","accuracy","replace","worldsList","urls","worldsSlugs","slug","geoJsonData","q","sourceGeoJsonResult","Promise","all","urlJson","fetch","treweler_params","resp","json","$popup","createElement","$popupTitle","$popupValue","appendChild","result","$targetHover","originalEvent","closest","values","trim","canvas","regionId","regionName","properties","NAME","resultValue","resultPrefix","querySelector","textContent","popupStyles","getBoundingClientRect","popupHeight","height","popupWidth","width","$adminBar","getElementById","adminBarHeight","adminBarStyles","left","clientX","top","clientY","visibility","opacity","ignoreId","selectedRegions","Array","isArray","selectedRegionId","selectedRegionIdChecked","checkIdHasCustomColor","hasColor","active","selectStateIdsColors","index","settings","spliceCounter","splice1","splice2","splice","color","featureId","stateAction","filename","COUNTRY","ADMIN","toLowerCase","preparedCurrentRegion","isEmpty","keys","column_value","admin_column","admin_value","column_inner","addEventListener"],"sourceRoot":""}