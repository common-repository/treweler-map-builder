{"version":3,"file":"treweler-manage-routes.js","mappings":"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","sources":["webpack://treweler/./src/js/admin/treweler-manage-routes.js"],"sourcesContent":["'use strict';\r\n\r\nconst {__} = wp.i18n;\r\n\r\nvar tp = '';\r\nvar map, draw, direction, lineDrawnStyle, lineDrawnVertaxPointHalosStyle, lineDrawnVertaxPointStyle,\r\n  lineDrawnMidPointStyle, lineDrawnVertaxPointActiveStyle;\r\nvar checkedBtn = 'no';\r\nvar bufferData = [];\r\n\r\n// Data Validation\r\nfunction isset() {\r\n    let a = arguments,\r\n      l = a.length,\r\n      i = 0,\r\n      undef;\r\n\r\n    if (l === 0) {\r\n        // throw new Error('Empty isset');\r\n        return false;\r\n    }\r\n\r\n    while (i !== l) {\r\n        if (a[i] === undef || a[i] === null) {\r\n            return false;\r\n        }\r\n        i++;\r\n    }\r\n    return true;\r\n}\r\n\r\nfunction isset_default(val, rtr) {\r\n    if (isset(val) && val !== \"\") {\r\n        return val;\r\n    } else {\r\n        return rtr;\r\n    }\r\n}\r\n\r\n\r\njQuery.noConflict();\r\n\r\nconst nextSiblings = (elem) => {\r\n    // create an empty array\r\n    let siblingsSize = 0;\r\n\r\n    // loop through next siblings until `null`\r\n    while (elem = elem.nextElementSibling) {\r\n        if(!elem.classList.contains('d-none')) {\r\n            // push sib0ng to array\r\n            siblingsSize += elem.getBoundingClientRect().height;\r\n        }\r\n    }\r\n    return siblingsSize;\r\n}\r\n\r\n(function ($) {\r\n    $(function () {\r\n\r\n        const mapRoute = document.getElementById('js-twer-route-map');\r\n\r\n\r\n        const gpxUploadBtn = document.getElementById('js-twer-gpx-upload');\r\n        const gpxUploadPanel = document.getElementById('js-twer-gpx-upload-panel');\r\n        const gpxInput = document.getElementById('routeGPXFile');\r\n        const gpxNameInput = document.getElementById('routeGPXFileName');\r\n\r\n        const mapRouteBody = document.getElementById('js-twer-body');\r\n\r\n\r\n        const latlngInput = document.getElementById('latlng');\r\n        const setZoomInput = document.getElementById('setZoom');\r\n        const mapInput = document.getElementById('map_id');\r\n\r\n        // initial Value Tag\r\n        localStorage.setItem(\"gpxUploadHadRun\", 'yes');\r\n\r\n\r\n        window.TWER_ROUTE = {\r\n            map_style: '',\r\n            draw: '',\r\n            initMap: function () {\r\n\r\n                jQuery('.twer-root').each(function() {\r\n                    jQuery(this).find('[data-toggle=\"tooltip\"]').tooltip({\r\n                        container: $(this).closest('.twer-root')\r\n                    });\r\n                });\r\n\r\n                tp = twer_ajax.api_key;\r\n                jQuery(\"#js-twer-route-map\").html(\"\");\r\n\r\n\r\n                let latlng = jQuery(\"#latlng\").val();\r\n                latlng = latlng.substring(1, latlng.length - 1).split(\",\");\r\n                let lat = latlng[1],\r\n                  lng = latlng[0],\r\n                  zoom = (jQuery(\"#setZoom\").val().trim() != \"\" ? parseFloat(jQuery(\"#setZoom\").val()).toFixed(2) : 0),\r\n                  map_style = $('#map_id option:selected').toArray().map(item => item.dataset.map_style),\r\n                  mapProjection = $('#map_id option:selected').toArray().map(item => item.dataset.mapProjection),\r\n                mapLightPreset = $('#map_id option:selected').toArray().map(item => item.dataset.mapLightPreset);\r\n\r\n\r\n                if(map_style.length <= 0) {\r\n                    map_style = ['mapbox://styles/mapbox/standard-beta'];\r\n                }\r\n\r\n                if(mapProjection.length <= 0) {\r\n                    mapProjection = ['mercator'];\r\n                }\r\n                mapboxgl.accessToken = tp;\r\n\r\n\r\n                draw = new MapboxDraw({\r\n                    displayControlsDefault: false,\r\n                    controls: {\r\n                        line_string: true,\r\n                        trash: true\r\n                    },\r\n                    styles: [\r\n                        lineDrawnStyle,\r\n                        // vertex point halos\r\n                        lineDrawnVertaxPointHalosStyle,\r\n                        // vertex points\r\n                        lineDrawnVertaxPointStyle,\r\n                        // Mid point\r\n                        lineDrawnMidPointStyle,\r\n                        // Mid point active\r\n                        lineDrawnVertaxPointActiveStyle\r\n                    ]\r\n                });\r\n\r\n                map = new mapboxgl.Map({\r\n                    container: 'js-twer-route-map',\r\n                    style: map_style[0],\r\n                    center: [lng, lat],\r\n                    zoom: zoom,\r\n                    projection: {\r\n                        name: mapProjection[0],\r\n                    }\r\n                });\r\n\r\n                map.on('style.load', () => {\r\n                    if (map_style[0] === 'mapbox://styles/mapbox/standard-beta') {\r\n                        let mapLightPresetString = mapLightPreset[0] ? mapLightPreset[0] : 'day';\r\n                        map.setConfigProperty('basemap', 'lightPreset', mapLightPresetString);\r\n                    }\r\n                });\r\n\r\n                map.on(\"zoom\", function () {\r\n                    jQuery(\"#setZoom\").val(parseFloat(map.getZoom()).toFixed(2));\r\n                    let latlng = map.getCenter();\r\n                    jQuery(\"#latlng\").val(\"{\" + latlng.lng + \",\" + latlng.lat + \"}\");\r\n                });\r\n                map.on(\"drag\", function () {\r\n                    let latlng = map.getCenter();\r\n                    jQuery(\"#latlng\").val(\"{\" + latlng.lng + \",\" + latlng.lat + \"}\");\r\n                });\r\n\r\n                map.addControl(draw, 'top-right');\r\n                map.on('draw.create', updateRoute);\r\n                map.on('draw.update', updateRoute);\r\n                map.on('draw.delete', removeRouteData);\r\n\r\n                map.on(\"load\", function () {\r\n                    if (jQuery(\"#routeCoords\").val().trim() != \"\" && jQuery(\"#routeGPXFile\").val().trim() == \"\") {\r\n                        let setRoute = jQuery(\"#routeCoords\").val(), defaultCoords = [];\r\n                        setRoute = setRoute.split(\";\");\r\n                        setRoute.forEach(function (ele) {\r\n                            let ll = [];\r\n                            ele.split(\",\").forEach(function (l) {\r\n                                ll.push(parseFloat(l));\r\n                            });\r\n                            defaultCoords.push(ll);\r\n                        });\r\n\r\n                        bufferData = {\r\n                            'type': \"FeatureCollection\",\r\n                            'features': [\r\n                                {\r\n                                    'type': \"Feature\",\r\n                                    'properties': {},\r\n                                    'geometry': {\r\n                                        'coordinates': defaultCoords,\r\n                                        'type': 'LineString'\r\n                                    }\r\n                                }\r\n                            ]\r\n                        }\r\n                        var _treweler_route_profile = jQuery(\"input[name='_treweler_route_profile']:checked\").val(); /* Set the _treweler_route_profile */\r\n                        draw.set(bufferData);\r\n                        let data = draw.getAll();\r\n                        if (data.features.length > 0) {\r\n                            var lastFeature = 0;\r\n                            var coords = data.features[lastFeature].geometry.coordinates;\r\n                            /* Format the coordinates */\r\n                            var newCoords = coords.join(';');\r\n                            /* Set the radius for each coordinate pair to 25 meters */\r\n                            var radius = [];\r\n                            coords.forEach(element => {\r\n                                radius.push(25);\r\n                            });\r\n                            if (_treweler_route_profile != 'no') {\r\n                                getMatchDistance(newCoords, radius, _treweler_route_profile);\r\n                            } else {\r\n                                addRoute(data.features[lastFeature].geometry);\r\n                            }\r\n                        }\r\n                    } else if (jQuery(\"#routeGPXFile\").val().trim() != \"\") {\r\n                        let GPXFile = jQuery(\"#routeGPXFile\").val();\r\n                        jQuery(\"input[name='_treweler_route_profile']\").each(function (i, e) {\r\n                            if (i != 0) {\r\n                                jQuery(this).attr('disabled', 'disabled');\r\n                            } else {\r\n                                jQuery(this).attr('checked', 'checked');\r\n                            }\r\n                        });\r\n                        /* Add Route */\r\n                        readGPXFileAndPlotRoute(GPXFile);\r\n                    }\r\n                });\r\n\r\n            }\r\n\r\n        };\r\n\r\n\r\n        /**\r\n         * Use the coordinates you just drew to make the Map Matching API request\r\n         */\r\n        function updateRoute(e) {\r\n            removeRoute(); /* Overwrite any existing layers */\r\n\r\n            var _treweler_route_profile = $('input[name=\\'_treweler_route_profile\\']:checked').val(); /* Set the _treweler_route_profile */\r\n\r\n            $('.post-type-route .info-box #directions').html('');\r\n            if ($('#routeGPXFile').val().trim() === '') {\r\n                /* Get the coordinates */\r\n                if (Object.keys(bufferData).length > 0 && bufferData.features.length > 0 && e === undefined) {\r\n                    draw.set(bufferData);\r\n\r\n\r\n                    data = draw.getAll();\r\n                    if (data.features.length > 0) {\r\n                        var lastFeature = 0;\r\n                        var coords = data.features[lastFeature].geometry.coordinates;\r\n                        /* Format the coordinates */\r\n                        var newCoords = coords.join(';');\r\n                        /* Set the radius for each coordinate pair to 25 meters */\r\n                        var radius = [];\r\n                        coords.forEach(element => {\r\n                            radius.push(25);\r\n                        });\r\n                        if (_treweler_route_profile != 'no') {\r\n                            getMatchDistance(newCoords, radius, _treweler_route_profile);\r\n                        } else {\r\n                            addRoute(data.features[lastFeature].geometry);\r\n                            reorderRoute();\r\n                        }\r\n                    }\r\n                } else {\r\n                    var data = draw.getAll();\r\n                    bufferData = data;\r\n                    if (data.features.length > 0) {\r\n                        var lastFeature = data.features.length - 1;\r\n                        var coords = data.features[lastFeature].geometry.coordinates;\r\n                        /* Format the coordinates */\r\n                        var newCoords = coords.join(';');\r\n                        /* Set the radius for each coordinate pair to 25 meters */\r\n                        var radius = [];\r\n                        coords.forEach(element => {\r\n                            radius.push(25);\r\n                        });\r\n                        if (_treweler_route_profile != 'no') {\r\n                            getMatchDistance(newCoords, radius, _treweler_route_profile);\r\n                        } else {\r\n                            addRoute(data.features[lastFeature].geometry);\r\n                            reorderRoute();\r\n                        }\r\n                    }\r\n                }\r\n                if (data.features.length > 0) {\r\n                    var coords = data.features[0].geometry.coordinates.join(';');\r\n                    $('#routeCoords').val(coords);\r\n                }\r\n            } else {\r\n                let selectedGPX = $('#routeGPXFile').val();\r\n                readGPXFileAndPlotRoute(selectedGPX);\r\n            }\r\n\r\n        }\r\n\r\n        function reorderRoute() {\r\n            try {\r\n                if (map.getLayer('route')) {\r\n                    map.moveLayer('route');\r\n\r\n                }\r\n            } catch (err) {\r\n\r\n                console.log(err)\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Make a Map Distance request\r\n         */\r\n        function getMatchDistance(coordinates, radius, _treweler_route_profile) {\r\n            /* Separate the radiuses with semicolons */\r\n            var radiuses = radius.join(';');\r\n\r\n            var query = 'https://api.mapbox.com/directions/v5/mapbox/' +\r\n                        _treweler_route_profile + '/' +\r\n                        coordinates + '?' +\r\n                        'geometries=geojson&steps=true' +\r\n                        '&overview=full&access_token=' + mapboxgl.accessToken;\r\n\r\n            jQuery.ajax({\r\n                method: 'GET',\r\n                url: query\r\n            }).done(function (data) {\r\n                if (data.routes.length > 0) {\r\n                    var coords = data.routes[0].geometry;\r\n                    addRoute(coords);\r\n\r\n                } else {\r\n                    $('.post-type-route .info-box #directions').html('<span id=\"direction-error\">' + data.message + '</span>');\r\n\r\n                }\r\n            }).fail(function (jqXHR, textStatus) {\r\n                $('.post-type-route .info-box #directions').html('<span id=\"direction-error\">' + jqXHR.responseJSON.message + '</span>');\r\n\r\n            });\r\n        }\r\n\r\n        /**\r\n         * Create the query - Matching API\r\n         */\r\n        function getMatch(coordinates, radius, _treweler_route_profile) {\r\n            /* Separate the radiuses with semicolons */\r\n            var radiuses = radius.join(';');\r\n\r\n            var query = 'https://api.mapbox.com/matching/v5/mapbox/' +\r\n                        _treweler_route_profile + '/' +\r\n                        coordinates + '?' +\r\n                        'geometries=geojson' +\r\n                        '&radiuses=' + radiuses +\r\n                        '&overview=full&access_token=' + mapboxgl.accessToken;\r\n\r\n            jQuery.ajax({\r\n                method: 'GET',\r\n                url: query\r\n            }).done(function (data) {\r\n                if (data.matchings.length > 0) {\r\n                    var coords = data.matchings[0].geometry;\r\n                    addRoute(coords);\r\n\r\n                } else {\r\n                    $('.post-type-route .info-box #directions').html('<span id=\"direction-error\">' + data.message + '</span>');\r\n\r\n                }\r\n            });\r\n        }\r\n\r\n        /**\r\n         * Get instructions for route\r\n         */\r\n        function getInstructions(data) {\r\n            /* Target the sidebar to add the instructions */\r\n            var directions = document.getElementById('directions');\r\n            var legs = data.legs;\r\n            var tripDirections = '';\r\n            /* Output the instructions for each step of each leg in the response object */\r\n            tripDirections += '<ul>';\r\n            for (var i = 0; i < legs.length; i++) {\r\n                var steps = legs[i].steps;\r\n                for (var j = 0; j < steps.length; j++) {\r\n                    tripDirections += '<li>' + steps[j].maneuver.instruction + '</li>';\r\n                }\r\n            }\r\n            tripDirections += '</ul>';\r\n\r\n            var TDh = Math.floor(data.duration / 3600);\r\n            var TDm = Math.floor((data.duration - (TDh * 3600)) / 60);\r\n            directions.innerHTML = '<h2>Trip duration: ' + TDh + ' h ' + TDm + ' min. (' + Math.floor(data.distance * 0.001) + ' km)</h2>' + tripDirections;\r\n        }\r\n\r\n        /**\r\n         * Draw the Map Matching route as a new layer on the map\r\n         */\r\n        function addRoute(coords) {\r\n\r\n            /* If a route is already loaded, remove it */\r\n            if (map.getSource('route')) {\r\n                $('.post-type-route .info-box #directions').html('');\r\n                map.removeLayer('route');\r\n                map.removeSource('route');\r\n            }\r\n            /* Add new route */\r\n            let lineColor = $('#routeColor').val(),\r\n              lineOpacity = parseFloat(isset_default($('#route_line_opacity').val(), 1)),\r\n              lineWidth = parseFloat(isset_default($('#route_line_width').val(), 3)),\r\n              lineDash = parseInt(isset_default($('#route_line_dash').val(), 1)),\r\n              lineGap = parseInt(isset_default($('#route_line_gap').val(), 0));\r\n\r\n            lineOpacity = (lineOpacity >= 0 && lineOpacity <= 1) ? lineOpacity : 0;\r\n\r\n            map.addLayer({\r\n                'id': 'route',\r\n                'type': 'line',\r\n                'source': {\r\n                    'type': 'geojson',\r\n                    'data': {\r\n                        'type': 'Feature',\r\n                        'properties': {},\r\n                        'geometry': coords\r\n                    }\r\n                },\r\n                'layout': {\r\n                    'line-join': 'round',\r\n                    'line-cap': 'round'\r\n                },\r\n                'paint': {\r\n                    'line-color': lineColor,\r\n                    'line-width': lineWidth,\r\n                    'line-opacity': lineOpacity,\r\n                    'line-dasharray': [lineDash, lineGap]\r\n                }\r\n            });\r\n\r\n            try {\r\n                if (map.getLayer('route') === 'undefined') {\r\n                    map.addLayer({\r\n                        'id': 'gl-draw-line',\r\n                        'type': 'line',\r\n                        'source': {\r\n                            'type': 'geojson',\r\n                            'data': {\r\n                                'type': 'Feature',\r\n                                'properties': {},\r\n                                'geometry': coords\r\n                            }\r\n                        },\r\n                        'filter': [\r\n                            'all',\r\n                            ['==', '$type', 'LineString'],\r\n                            ['!=', 'mode', 'static']\r\n                        ],\r\n                        'layout': {\r\n                            'line-cap': 'round',\r\n                            'line-join': 'round'\r\n                        },\r\n                        'paint': {\r\n                            'line-color': '#317dfc',\r\n                            'line-dasharray': [0, 2],\r\n                            'line-width': 2,\r\n                            'line-opacity': 1\r\n                        }\r\n                    });\r\n                }\r\n            } catch (e) {\r\n                console.log(e)\r\n            }\r\n\r\n        }\r\n\r\n        function routeReload() {\r\n            let _treweler_route_profile = $('input[name=\\'_treweler_route_profile\\']:checked').val();\r\n\r\n            setTimeout(function(){\r\n                jQuery(\"#js-twer-directions input[name='_treweler_route_profile']\").trigger('change');\r\n            }, 500)\r\n        }\r\n\r\n        function addRouteOnChange() {\r\n            let data = draw.getAll();\r\n            if (data.features.length > 0) {\r\n                var lastFeature = 0;\r\n                var coords = data.features[lastFeature].geometry.coordinates;\r\n                /* Format the coordinates */\r\n                var newCoords = coords.join(';');\r\n                /* Set the radius for each coordinate pair to 25 meters */\r\n                var radius = [];\r\n                coords.forEach(element => {\r\n                    radius.push(25);\r\n                });\r\n                let _treweler_route_profile = $('input[name=\\'_treweler_route_profile\\']:checked').val();\r\n                //console.log(_treweler_route_profile);\r\n                if (_treweler_route_profile !== 'no') {\r\n                    getMatchDistance(newCoords, radius, _treweler_route_profile);\r\n                } else {\r\n                    addRoute(data.features[lastFeature].geometry);\r\n                }\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Remove Draw control & Add again with updated value\r\n         */\r\n        function removeAddDrawControl() {\r\n            map.removeControl(draw);\r\n            draw = new MapboxDraw({\r\n                displayControlsDefault: false,\r\n                controls: {\r\n                    line_string: true,\r\n                    trash: true\r\n                },\r\n                styles: [lineDrawnStyle, lineDrawnVertaxPointHalosStyle, lineDrawnVertaxPointStyle, lineDrawnMidPointStyle, lineDrawnVertaxPointActiveStyle]\r\n            });\r\n            map.addControl(draw);\r\n        }\r\n\r\n        /**\r\n         * Remove route layer from the map\r\n         */\r\n        function removeRoute(e) {\r\n            if (map.getSource('route') !== undefined) {\r\n\r\n                $('.post-type-route .info-box #directions').html('');\r\n\r\n                map.removeLayer('route');\r\n                map.removeSource('route');\r\n                $('#routeCoords').val('');\r\n            } else {\r\n                return;\r\n            }\r\n        }\r\n\r\n        const gpxUploadBtnContainer = document.getElementById('js-twer-attach__add-file');\r\n        const gpxAttachContainer = document.getElementById('js-twer-attach-container');\r\n        const gpxAfterAddFile = document.getElementById('js-twer-attach-actions');\r\n        const gpxBtnRemove = document.getElementById('js-twer-attach-remove');\r\n        const gpxBtnChange = document.getElementById('js-twer-attach-change');\r\n        const gpxErrorMsg = document.getElementById('gpxErrorMessage');\r\n\r\n\r\n        // Remove uploaded GPX file from metabox after delete\r\n        function removeUploadGPXFile() {\r\n            if (gpxNameInput.value.length && gpxInput.value.length) {\r\n                gpxUploadPanel.removeChild(gpxUploadPanel.getElementsByTagName('p')[0]);\r\n                gpxNameInput.value = gpxInput.value = '';\r\n                gpxUploadBtn.innerText = __('Upload file here', 'treweler');\r\n                gpxUploadBtn.setAttribute('href', '#add');\r\n                gpxUploadBtnContainer.style.display = 'block';\r\n                gpxAttachContainer.style.display = 'block';\r\n                gpxAfterAddFile.style.display = 'none';\r\n                localStorage.setItem(\"gpxUploadHadRun\", 'no');\r\n            }\r\n        }\r\n\r\n        if(gpxBtnChange) {\r\n            gpxBtnChange.addEventListener(\"click\", gpxTriggerChange);\r\n            gpxBtnRemove.addEventListener(\"click\", removeRouteData);\r\n        }\r\n\r\n        function gpxTriggerChange() {\r\n            // Remove Old Data\r\n            removeRouteData();\r\n\r\n\r\n            let xmlFrame;\r\n\r\n            if (xmlFrame) {\r\n                xmlFrame.open();\r\n                return;\r\n            }\r\n\r\n            xmlFrame = wp.media({\r\n                title: __('Select GPX route', 'treweler'),\r\n                button: {\r\n                    text: __('Upload GPX route', 'treweler')\r\n                },\r\n                library: {\r\n                    type: 'application/gpx+xml',\r\n                },\r\n                multiple: false\r\n            });\r\n\r\n\r\n            xmlFrame.on('select', function () {\r\n                const xmlFrameFile = xmlFrame.state().get('selection').first();\r\n                const xmlUrl = xmlFrameFile.toJSON().url;\r\n                const xmlName = xmlFrameFile.attributes.filename;\r\n\r\n                gpxInput.value = xmlUrl;\r\n                gpxNameInput.value = xmlName;\r\n                gpxAfterAddFile.style.display = 'block';\r\n                localStorage.setItem(\"gpxUploadHadRun\", 'no');\r\n\r\n                toggleDirectionsPanel();\r\n                showUploadGPXFile();\r\n                readGPXFileAndPlotRoute(xmlUrl);\r\n            });\r\n            xmlFrame.open();\r\n\r\n\r\n        }\r\n\r\n\r\n        /**\r\n         * Remove route layer & data from the map\r\n         */\r\n        function removeRouteData(e) {\r\n\r\n            if (map.getSource('route')) {\r\n\r\n                $('.post-type-route .info-box #directions').html('');\r\n\r\n\r\n                removeUploadGPXFile();\r\n\r\n                map.removeLayer('route');\r\n                map.removeSource('route');\r\n\r\n                $('#routeCoords').val('');\r\n\r\n                $('input[name=\\'_treweler_route_profile\\']').each(function (i, e) {\r\n                    if (i != 0) {\r\n                        $(this).removeAttr('disabled');\r\n                    }\r\n                });\r\n\r\n\r\n                bufferData = {\r\n                    'type': 'FeatureCollection',\r\n                    'features': []\r\n                };\r\n                draw.set(bufferData);\r\n\r\n                localStorage.setItem(\"gpxUploadHadRun\", 'no');\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Read GPX file and draw route on map based on coordinates\r\n         */\r\n        function readGPXFileAndPlotRoute(selectedGPX) {\r\n            jQuery.ajax({\r\n                type: 'GET',\r\n                url: selectedGPX,\r\n                dataType: 'xml',\r\n                success: function (GPX) {\r\n                    var points = [];\r\n                    $(GPX).find('trkpt').each(function () {\r\n                        points.push([parseFloat($(this).attr('lon')), parseFloat($(this).attr('lat'))]);\r\n                    });\r\n                    if (points.length) {\r\n                        let lineColor = $('#routeColor').val(),\r\n                          lineOpacity = parseFloat(isset_default($('#route_line_opacity').val(), 1)),\r\n                          lineWidth = parseFloat(isset_default($('#route_line_width').val(), 3)),\r\n                          lineDash = parseInt(isset_default($('#route_line_dash').val(), 1)),\r\n                          lineGap = parseInt(isset_default($('#route_line_gap').val(), 0));\r\n\r\n                        lineOpacity = (lineOpacity >= 0 && lineOpacity <= 1) ? lineOpacity : 0;\r\n\r\n                        lineDrawnStyle = {\r\n                            'id': 'gl-draw-line',\r\n                            'type': 'line',\r\n                            'filter': [\r\n                                'all',\r\n                                ['==', '$type', 'LineString'],\r\n                                ['!=', 'mode', 'static']\r\n                            ],\r\n                            'layout': {\r\n                                'line-cap': 'round',\r\n                                'line-join': 'round'\r\n                            },\r\n                            'paint': {\r\n                                'line-color': lineColor, //\"#317dfc\",\r\n                                'line-dasharray': [lineDash, lineGap],\r\n                                'line-width': lineWidth,\r\n                                'line-opacity': lineOpacity\r\n                            }\r\n                        };\r\n                        /* Add/Remove Draw Control */\r\n                        removeAddDrawControl();\r\n\r\n                        bufferData = {\r\n                            'type': 'FeatureCollection',\r\n                            'features': [\r\n                                {\r\n                                    'type': 'Feature',\r\n                                    'properties': {},\r\n                                    'geometry': {\r\n                                        'coordinates': points,\r\n                                        'type': 'LineString'\r\n                                    }\r\n                                }\r\n                            ]\r\n                        };\r\n                        draw.set(bufferData);\r\n                        let data = draw.getAll();\r\n                        addRoute(data.features[0].geometry);\r\n\r\n                        if (localStorage.getItem(\"gpxUploadHadRun\") !== 'yes') {\r\n                            let bounds = points.reduce(function (bounds, coord) {\r\n                                return bounds.extend(coord);\r\n                            }, new mapboxgl.LngLatBounds(points[0], points[0]));\r\n\r\n                            map.fitBounds(bounds, {\r\n                                padding: 20\r\n                            });\r\n                        }\r\n\r\n                        localStorage.setItem(\"gpxUploadHadRun\", 'yes');\r\n\r\n                        if(gpxErrorMsg) {\r\n                            gpxErrorMsg.style.display = 'none';\r\n                        }\r\n\r\n\r\n                    } else {\r\n                        if(gpxErrorMsg) {\r\n                            gpxErrorMsg.style.display = 'block';\r\n                        }\r\n                        removeUploadGPXFile();\r\n                    }\r\n                }\r\n            });\r\n        }\r\n\r\n        function makeDrawLineBlue() {\r\n            map.setPaintProperty(\r\n              'gl-draw-line',\r\n              'line-color',\r\n              '#317dfc'\r\n            );\r\n            map.setPaintProperty(\r\n              'gl-draw-line',\r\n              'line-dasharray',\r\n              [0, 2],\r\n            );\r\n            map.setPaintProperty(\r\n              'gl-draw-line',\r\n              'line-width',\r\n              2\r\n            );\r\n            map.setPaintProperty(\r\n              'gl-draw-line',\r\n              'line-opacity',\r\n              1,\r\n            );\r\n        }\r\n\r\n        function makeRouteBlue() {\r\n            map.setPaintProperty(\r\n              'route',\r\n              'line-color',\r\n              '#317dfc'\r\n            );\r\n            map.setPaintProperty(\r\n              'route',\r\n              'line-dasharray',\r\n              [0, 2],\r\n            );\r\n            map.setPaintProperty(\r\n              'route',\r\n              'line-width',\r\n              2\r\n            );\r\n            map.setPaintProperty(\r\n              'route',\r\n              'line-opacity',\r\n              1,\r\n            );\r\n        }\r\n\r\n\r\n        if ($('input[name=\\'_treweler_route_profile\\']:checked').val() === 'no') {\r\n            let lineColor = $('#routeColor').val();\r\n            lineDrawnStyle = {\r\n                'id': 'gl-draw-line',\r\n                'type': 'line',\r\n                'filter': [\r\n                    'all',\r\n                    ['==', '$type', 'LineString'],\r\n                    ['!=', 'mode', 'static']\r\n                ],\r\n                'layout': {\r\n                    'line-cap': 'round',\r\n                    'line-join': 'round'\r\n                },\r\n                'paint': {\r\n                    'line-color': '#317dfc', //'#317dfc',\r\n                    'line-dasharray': [1, 0],\r\n                    'line-width': 3,\r\n                    'line-opacity': 1\r\n                }\r\n            };\r\n\r\n\r\n        } else {\r\n            checkedBtn = $('input[name=\\'_treweler_route_profile\\']:checked').val();\r\n            lineDrawnStyle = {\r\n                'id': 'gl-draw-line',\r\n                'type': 'line',\r\n                'filter': [\r\n                    'all',\r\n                    ['==', '$type', 'LineString'],\r\n                    ['!=', 'mode', 'static']\r\n                ],\r\n                'layout': {\r\n                    'line-cap': 'round',\r\n                    'line-join': 'round'\r\n                },\r\n                'paint': {\r\n                    'line-color': '#317dfc',\r\n                    'line-dasharray': [0, 2],\r\n                    'line-width': 2,\r\n                    'line-opacity': 1\r\n                }\r\n            };\r\n        }\r\n\r\n        lineDrawnVertaxPointHalosStyle = {\r\n            'id': 'gl-draw-polygon-and-line-vertex-halo-active',\r\n            'type': 'circle',\r\n            'filter': [\r\n                'all',\r\n                ['==', 'meta', 'vertex'],\r\n                ['==', '$type', 'Point'],\r\n                ['!=', 'mode', 'static']\r\n            ],\r\n            'paint': {\r\n                'circle-radius': 10,\r\n                'circle-color': '#fff'\r\n            }\r\n        };\r\n\r\n        lineDrawnMidPointStyle = {\r\n            'id': 'gl-draw-polygon-and-line-vertex-active',\r\n            'type': 'circle',\r\n            'filter': [\r\n                'all',\r\n                ['==', 'meta', 'vertex'],\r\n                ['==', '$type', 'Point'],\r\n                ['!=', 'mode', 'static']\r\n            ],\r\n            'paint': {\r\n                'circle-radius': 5,\r\n                'circle-color': '#317dfc',\r\n            }\r\n        };\r\n\r\n        lineDrawnVertaxPointStyle = {\r\n            'id': 'gl-draw-polygon-and-line-midpoint-halo-active',\r\n            'type': 'circle',\r\n            'filter': [\r\n                'all',\r\n                ['==', 'meta', 'midpoint'],\r\n                ['==', '$type', 'Point'],\r\n                ['!=', 'mode', 'static']\r\n            ],\r\n            'paint': {\r\n                'circle-radius': 0,\r\n                'circle-color': '#fff'\r\n            }\r\n        };\r\n\r\n        lineDrawnVertaxPointActiveStyle = {\r\n            'id': 'gl-draw-polygon-and-line-midpoint-active',\r\n            'type': 'circle',\r\n            'filter': [\r\n                'all',\r\n                ['==', 'meta', 'midpoint'],\r\n                ['==', '$type', 'Point'],\r\n                ['!=', 'mode', 'static']\r\n            ],\r\n            'paint': {\r\n                'circle-radius': 5,\r\n                'circle-color': '#317dfc'\r\n            }\r\n        };\r\n\r\n\r\n        /**\r\n         * On change of `map`, set `map` style\r\n         */\r\n        let defaultMapStyle = '';\r\n        let defaultMapProjection = '';\r\n        let defaultMapLightPreset = '';\r\n        $(\".js-twer-select-2\").on(\"select2:select.bsnselect\", function (evt) {\r\n            var element = evt.params.data.element;\r\n            var $element = $(element);\r\n            $element.detach();\r\n            $(this).append($element);\r\n            $(this).trigger(\"change\");\r\n\r\n            let styleV = $('#map_id option:selected').toArray().map(item => item.dataset.map_style);\r\n            let mapProjection = $('#map_id option:selected').toArray().map(item => item.dataset.mapProjection);\r\n            let mapLightPreset = $('#map_id option:selected').toArray().map(item => item.dataset.mapLightPreset);\r\n\r\n            if(styleV.length <= 0) {\r\n                styleV = ['mapbox://styles/mapbox/standard-beta'];\r\n            }\r\n\r\n            if(mapProjection.length <= 0) {\r\n                mapProjection = ['mercator'];\r\n            }\r\n\r\n            //console.log(styleV[0], styleV);\r\n            defaultMapStyle = styleV[0];\r\n            map.setStyle(styleV[0]);\r\n\r\n            defaultMapProjection = mapProjection[0];\r\n            map.setProjection(mapProjection[0]);\r\n\r\n\r\n            if( styleV[0] === 'mapbox://styles/mapbox/standard-beta') {\r\n\r\n                map.on('style.load', () => {\r\n                    let mapLightPresetString = mapLightPreset[0] ? mapLightPreset[0] : 'day'\r\n                    map.setConfigProperty('basemap', 'lightPreset', mapLightPresetString);\r\n                });\r\n            }\r\n\r\n            /* Place a route on change of map style */\r\n            addRouteOnChange();\r\n            routeReload();\r\n        });\r\n        $(\".js-twer-select-2\").on('change', function() {\r\n            let styleV = $('#map_id option:selected').toArray().map(item => item.dataset.map_style);\r\n            let mapProjection = $('#map_id option:selected').toArray().map(item => item.dataset.mapProjection);\r\n            let mapLightPreset = $('#map_id option:selected').toArray().map(item => item.dataset.mapLightPreset);\r\n\r\n            if(styleV.length <= 0) {\r\n                styleV = ['mapbox://styles/mapbox/standard-beta'];\r\n                map.setStyle(styleV[0]);\r\n            }\r\n\r\n            if(styleV.length > 0 && !styleV.includes(defaultMapStyle)) {\r\n                defaultMapStyle = styleV[0];\r\n                map.setStyle(defaultMapStyle);\r\n            }\r\n\r\n\r\n\r\n            if(mapProjection.length <= 0) {\r\n                mapProjection = ['mercator'];\r\n                map.setProjection(mapProjection[0]);\r\n            }\r\n\r\n            if(mapProjection.length > 0 && !mapProjection.includes(defaultMapProjection)) {\r\n                defaultMapProjection = mapProjection[0];\r\n                map.setProjection(defaultMapProjection);\r\n            }\r\n\r\n\r\n            if( styleV[0] === 'mapbox://styles/mapbox/standard-beta') {\r\n                map.on('style.load', () => {\r\n                    let mapLightPresetString = mapLightPreset[0] ? mapLightPreset[0] : 'day'\r\n                    map.setConfigProperty('basemap', 'lightPreset', mapLightPresetString);\r\n                });\r\n            }\r\n\r\n            /* Place a route on change of map style */\r\n            addRouteOnChange();\r\n            routeReload();\r\n        });\r\n\r\n        /**\r\n         * Mapbox route _treweler_route_profile\r\n         */\r\n        jQuery(\"#js-twer-directions input[name='_treweler_route_profile']\").on(\"change\", function () {\r\n\r\n            if (Object.keys(bufferData).length === 0 || bufferData.features.length === 0) {\r\n                bufferData = draw.getAll();\r\n            }\r\n\r\n            let nRun = true;\r\n\r\n            if ($(this).val() !== 'no' && checkedBtn === 'no') {\r\n                checkedBtn = $(this).val();\r\n                lineDrawnStyle = {\r\n                    'id': 'gl-draw-line',\r\n                    'type': 'line',\r\n                    'filter': [\r\n                        'all',\r\n                        ['==', '$type', 'LineString'],\r\n                        ['!=', 'mode', 'static']\r\n                    ],\r\n                    'layout': {\r\n                        'line-cap': 'round',\r\n                        'line-join': 'round'\r\n                    },\r\n                    'paint': {\r\n                        'line-color': '#317dfc',\r\n                        'line-dasharray': [0, 2],\r\n                        'line-width': 2,\r\n                        'line-opacity': 1\r\n                    }\r\n                };\r\n                /* Add/Remove Draw Control */\r\n                removeAddDrawControl();\r\n                updateRoute();\r\n                nRun = false;\r\n\r\n\r\n            } else if ($(this).val() === 'no' && checkedBtn !== 'no') {\r\n\r\n                checkedBtn = $(this).val();\r\n                let lineColor = $('#routeColor').val();\r\n                lineDrawnStyle = {\r\n                    'id': 'gl-draw-line',\r\n                    'type': 'line',\r\n                    'filter': [\r\n                        'all',\r\n                        ['==', '$type', 'LineString'],\r\n                        ['!=', 'mode', 'static']\r\n                    ],\r\n                    'layout': {\r\n                        'line-cap': 'round',\r\n                        'line-join': 'round'\r\n                    },\r\n                    'paint': {\r\n                        'line-color': '#317dfc',\r\n                        'line-dasharray': [1, 0],\r\n                        'line-width': 3,\r\n                        'line-opacity': 1\r\n                    }\r\n                };\r\n\r\n                removeAddDrawControl();\r\n\r\n                updateRoute();\r\n                nRun = true;\r\n\r\n            }\r\n\r\n            if (nRun) {\r\n                updateRoute()\r\n            }\r\n\r\n            reorderRoute();\r\n\r\n        });\r\n\r\n        /**\r\n         * Route color picker\r\n         */\r\n        $('#color-picker-btn, .clr-picker span').on('click', function () {\r\n            if ($('.color-picker').find('.a-color-picker').length === 0) {\r\n                const pickerObj = TWER_HELPERS.AColorPicker.from('.color-picker').on('change', (picker, color) => {\r\n                    $('.clr-picker span').css('background-color', picker.color);\r\n                    $('#routeColor').val(picker.color);\r\n                    $('.color-picker').attr('acp-color', picker.color);\r\n\r\n\r\n                    if (event.type === 'mousedown' || event.type === 'click') {\r\n\r\n\r\n                        updateRoute();\r\n\r\n                    }\r\n\r\n\r\n\r\n\r\n\r\n                }).on('coloradd', (picker, color) => {\r\n                    let cca = $('#addCustomColor');\r\n                    if (cca.val().indexOf('|' + color) === -1) {\r\n                        cca.val(cca.val() + '|' + color);\r\n                        jQuery.ajax({\r\n                            url: twer_ajax.url,\r\n                            type: 'POST',\r\n                            data: {action: 'treweler_add_colorpicker_custom_color', cust_color: cca.val()},\r\n                            success: function (response) {\r\n                                let eleCP = $('.color-picker'), defaultCP = eleCP.attr('default-palette');\r\n                                eleCP.attr('acp-palette', defaultCP + '' + response);\r\n                            }\r\n                        });\r\n                    }\r\n                }).on('colorremove', (picker, color) => {\r\n                    let ccr = $('#addCustomColor');\r\n                    if (ccr.val().indexOf('|' + color) !== -1) {\r\n                        let sc = ccr.val().replace('|' + color, '');\r\n                        ccr.val(sc);\r\n                        jQuery.ajax({\r\n                            url: twer_ajax.url,\r\n                            type: 'POST',\r\n                            data: {action: 'treweler_add_colorpicker_custom_color', cust_color: ccr.val()},\r\n                            success: function (response) {\r\n                                let eleCP = $('.color-picker'), defaultCP = eleCP.attr('default-palette');\r\n                                eleCP.attr('acp-palette', defaultCP + '' + response);\r\n                            }\r\n                        });\r\n                    }\r\n                });\r\n\r\n                /*Picker positions*/\r\n                /*const nextSiblingsSizes = nextSiblings(pickerObj[0].element.closest('.twer-tr-route-styles'));\r\n                 const colorPickerSize = pickerObj[0].element.closest('.color-picker').getBoundingClientRect().height;\r\n\r\n                 if(nextSiblingsSizes < colorPickerSize) {\r\n                 pickerObj[0].element.closest('.color-picker').classList.add('show-palette-top');\r\n                 } else {\r\n                 pickerObj[0].element.closest('.color-picker').classList.remove('show-palette-top');\r\n                 }*/\r\n                /*Picker positions end*/\r\n            } else {\r\n                $('.color-picker').find('.a-color-picker').remove();\r\n            }\r\n        });\r\n\r\n        $(window).on('click', function (event) {\r\n            if (!$(event.target).hasClass('a-color-picker') && $(event.target).parents('.a-color-picker').length == 0 && $(event.target).attr('id') != 'color-picker-btn' && !$(event.target).hasClass('color-holder') && !$(event.target).hasClass('a-color-picker-palette-color')) {\r\n                $('.color-picker').find('.a-color-picker').remove();\r\n            }\r\n        });\r\n\r\n\r\n        $('#route_line_width, #route_line_opacity, #route_line_dash,#route_line_gap').on('input', function () {\r\n            updateRoute();\r\n\r\n        });\r\n\r\n        /**\r\n         * Toggle direction panel radio input\r\n         *\r\n         * @param elements - array of elements. 1 - it means that the element must be checked and the disabled attribute must be removed for it\r\n         */\r\n        function toggleDirectionsPanel(elements = [1, 0, 0, 0]) {\r\n            const directionsPanel = document.getElementById('js-twer-directions');\r\n            const directionsProfiles = directionsPanel.getElementsByTagName('input');\r\n\r\n            let i = 0;\r\n            for (let directionsProfile of directionsProfiles) {\r\n                if (elements[i]) {\r\n                    directionsProfile.checked = true;\r\n                    directionsProfile.disabled = false;\r\n                } else {\r\n                    directionsProfile.checked = false;\r\n                    directionsProfile.disabled = true;\r\n                }\r\n                i++;\r\n            }\r\n        }\r\n\r\n\r\n        // Show uploaded GPX file after close wp.media window\r\n        function showUploadGPXFile() {\r\n            if (!!gpxNameInput && gpxNameInput.value) {\r\n\r\n                let gpxFileName = document.getElementsByClassName(\"gpx-trew-file\");\r\n                if (typeof gpxFileName[0] !== 'undefined') {\r\n                    gpxFileName[0].remove();\r\n                }\r\n\r\n                const gpxNameField = document.createElement('p');\r\n                gpxNameField.className = 'hide-if-no-js gpx-trew-file';\r\n                const text = document.createTextNode(gpxNameInput.value);\r\n                gpxNameField.appendChild(text);\r\n                gpxUploadPanel.prepend(gpxNameField);\r\n                gpxUploadBtn.innerText = __('Remove this file', 'treweler');\r\n                gpxUploadBtn.setAttribute('href', '#remove');\r\n                gpxUploadBtnContainer.style.display = 'none';\r\n                gpxAttachContainer.style.display = 'none';\r\n                gpxAfterAddFile.style.display = 'block';\r\n            } else {\r\n                gpxUploadBtnContainer.style.display = 'block';\r\n                gpxAttachContainer.style.display = 'block';\r\n            }\r\n        }\r\n\r\n\r\n        if(gpxUploadPanel) {\r\n            // Show uploaded GPX files after page load\r\n            showUploadGPXFile();\r\n        }\r\n\r\n\r\n        // Click on Upload GPX button in metabox\r\n        if (!!gpxUploadBtn) {\r\n            let xmlFrame;\r\n            gpxUploadBtn.addEventListener('click', (e) => {\r\n                e.preventDefault();\r\n                const thisBtn = e.target;\r\n\r\n                if (thisBtn.getAttribute('href') === '#add') {\r\n                    if (xmlFrame) {\r\n                        xmlFrame.open();\r\n                        return;\r\n                    }\r\n                    xmlFrame = wp.media({\r\n                        title: __('Select GPX route', 'treweler'),\r\n                        button: {\r\n                            text: __('Upload GPX route', 'treweler')\r\n                        },\r\n                        library: {\r\n                            type: 'application/gpx+xml',\r\n                        },\r\n                        multiple: false\r\n                    });\r\n                    xmlFrame.on('select', function () {\r\n                        const xmlFrameFile = xmlFrame.state().get('selection').first();\r\n                        const xmlUrl = xmlFrameFile.toJSON().url;\r\n                        const xmlName = xmlFrameFile.attributes.filename;\r\n                        localStorage.setItem(\"gpxUploadHadRun\", 'no');\r\n\r\n                        gpxInput.value = xmlUrl;\r\n                        gpxNameInput.value = xmlName;\r\n                        gpxAfterAddFile.style.display = 'block';\r\n\r\n                        toggleDirectionsPanel();\r\n                        showUploadGPXFile();\r\n                        readGPXFileAndPlotRoute(xmlUrl);\r\n                    });\r\n                    xmlFrame.open();\r\n                } else {\r\n                    localStorage.setItem(\"gpxUploadHadRun\", 'no');\r\n                    removeRouteData();\r\n                }\r\n            });\r\n        }\r\n\r\n\r\n        if (!!mapRoute && twer_ajax.api_key_is_valid) {\r\n            TWER_ROUTE.initMap();\r\n        } else {\r\n            mapRouteBody.insertAdjacentHTML('afterbegin', `<div id=\"setting-error-treweler_invalid_api\" class=\"notice notice-error settings-error is-dismissible\"> \r\n<p><strong>${__('Mapbox access token is invalid. Please, enter a valid Mapbox access token.', 'treweler')}</strong></p><button type=\"button\" class=\"notice-dismiss\"><span class=\"screen-reader-text\">${__('Dismiss this notice.', 'treweler')}</span></button></div>`);\r\n\r\n        }\r\n\r\n\r\n        $('.twer-root').tooltip({\r\n            selector: '.twer-help-tooltip'\r\n        });\r\n\r\n\r\n    });\r\n\r\n\r\n})(jQuery);\r\n\r\n"],"names":["__","wp","i18n","tp","map","draw","direction","lineDrawnStyle","lineDrawnVertaxPointHalosStyle","lineDrawnVertaxPointStyle","lineDrawnMidPointStyle","lineDrawnVertaxPointActiveStyle","checkedBtn","bufferData","isset","a","arguments","l","length","i","undef","isset_default","val","rtr","jQuery","noConflict","nextSiblings","elem","siblingsSize","nextElementSibling","classList","contains","getBoundingClientRect","height","$","mapRoute","document","getElementById","gpxUploadBtn","gpxUploadPanel","gpxInput","gpxNameInput","mapRouteBody","latlngInput","setZoomInput","mapInput","localStorage","setItem","window","TWER_ROUTE","map_style","initMap","each","find","tooltip","container","closest","twer_ajax","api_key","html","latlng","substring","split","lat","lng","zoom","trim","parseFloat","toFixed","toArray","item","dataset","mapProjection","mapLightPreset","mapboxgl","accessToken","MapboxDraw","displayControlsDefault","controls","line_string","trash","styles","Map","style","center","projection","name","on","mapLightPresetString","setConfigProperty","getZoom","getCenter","addControl","updateRoute","removeRouteData","setRoute","defaultCoords","forEach","ele","ll","push","_treweler_route_profile","set","data","getAll","features","lastFeature","coords","geometry","coordinates","newCoords","join","radius","element","getMatchDistance","addRoute","GPXFile","e","attr","readGPXFileAndPlotRoute","removeRoute","Object","keys","undefined","reorderRoute","selectedGPX","getLayer","moveLayer","err","console","log","radiuses","query","ajax","method","url","done","routes","message","fail","jqXHR","textStatus","responseJSON","getMatch","matchings","getInstructions","directions","legs","tripDirections","steps","j","maneuver","instruction","TDh","Math","floor","duration","TDm","innerHTML","distance","getSource","removeLayer","removeSource","lineColor","lineOpacity","lineWidth","lineDash","parseInt","lineGap","addLayer","routeReload","setTimeout","trigger","addRouteOnChange","removeAddDrawControl","removeControl","gpxUploadBtnContainer","gpxAttachContainer","gpxAfterAddFile","gpxBtnRemove","gpxBtnChange","gpxErrorMsg","removeUploadGPXFile","value","removeChild","getElementsByTagName","innerText","setAttribute","display","addEventListener","gpxTriggerChange","xmlFrame","open","media","title","button","text","library","type","multiple","xmlFrameFile","state","get","first","xmlUrl","toJSON","xmlName","attributes","filename","toggleDirectionsPanel","showUploadGPXFile","removeAttr","dataType","success","GPX","points","getItem","bounds","reduce","coord","extend","LngLatBounds","fitBounds","padding","makeDrawLineBlue","setPaintProperty","makeRouteBlue","defaultMapStyle","defaultMapProjection","defaultMapLightPreset","evt","params","$element","detach","append","styleV","setStyle","setProjection","includes","nRun","pickerObj","TWER_HELPERS","AColorPicker","from","picker","color","css","event","cca","indexOf","action","cust_color","response","eleCP","defaultCP","ccr","sc","replace","remove","target","hasClass","parents","elements","directionsPanel","directionsProfiles","directionsProfile","checked","disabled","gpxFileName","getElementsByClassName","gpxNameField","createElement","className","createTextNode","appendChild","prepend","preventDefault","thisBtn","getAttribute","api_key_is_valid","insertAdjacentHTML","selector"],"sourceRoot":""}